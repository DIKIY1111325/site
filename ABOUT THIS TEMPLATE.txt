Tooplate.com HTML Templates

структура НЕ АПДЕЙТИРОВАННАЯ С 09.03
- 404.html
- ABOUT THIS TEMPLATE.txt
- README тут находится тех.задание для сайти.md
- contact.html
- css/
- faq1_vpn_serv.html
- faq2_vpn_serv.html
- faq3_vpn_serv.html
- faq4_vpn_serv.html
- faq5_vpn_serv.html
- fonts/
- images/
- index.html
- invite.html
- js/
- login.html
- register.html
- password-reset.html
- pay.html
- subscription VPN server.html
- subscription VPN.html
- subscription.html
- videos/
- vpn_client.html
- promovpnkey.html

js/
├── auth.js         # Аутентификация и управление сессиями
├── supabase.js     # Инициализация и конфигурация Supabase
├── countdown.js    # Таймер для инвайтов
├── login.js        # Логика страницы входа
├── register.js     # Логика регистрации
├── password-reset.js    # Сброс пароля
├── password-update.js   # Обновление пароля
├── subscription.js      # Управление подписками
├── index.js            # Основная логика главной страницы
└── subscription-vpn.js  # Логика VPN подписок

ТЗ ДЛЯ СТРАНИЦ сайта:
ГЛАВНЫЕ ПРАВИЛА:
1. в процессе работы над проектом написание кода тобою должно происходит только поСЛЕ моей команды "код"
2.Любые новые элементы в существующий код вносим только после моего одбрения командой "ок"
3.Решаем поставленные задачи согласно порядка следования в плане работ, переходя к новой задаче или новому этапу решения существующей только после моего подтреждения командой "дальше"  

ВСЕГДА ПИШИ КОД ПОЛНОСТЬЮ  С УЧЕТОМ РАЗМЕЩЕНИЯ СТИЛЕЙ В ФАЙЛАХ CSS И СКРИПТВ В JS И ПРЕЖДЕ ЧЕМ СОЗДАВАТЬ НОВЫЕ УБЕДИСЬ В НАЛИЧИИ УЖЕ СУЩЕСТВУЮЩИХ


Функционал страниц.

страница index.html
при входе присваивается метка пользователю для дальнейшей передачи другим страницам (Для того чтобы реализовать нужную логику перенаправления с момента авторизации в зависимости от того, с какой страницы пришел пользователь, вам нужно использовать JavaScript, чтобы запомнить, с какой страницы пользователь пришел. Для этого нужно использовать localStorage и sessionStorage, так как эти хранилища позволяют сохранять данные, которые доступны между страницами.)

три кнопки выбора услуги и переадресации на соответвующую страницу:
КНОПКИ:

1. "VPN за несколько кликов" нажав эту кнопку пользователь попадает на страницу invite.html и выполняет условия страницы(описание работы страницы invite ниже) 
 и с момента успешной авторизации или регистрации (описание работы стриницы login смотреть ниже) на странице логин он переадсовывается на страницу vpn_client где имеет возможность скачать по ссылкам (в appstore и googlestore  и другим) приложение клиент и/или копировать ссылку "ключ" для подключения к серверу xray ОБЯЗАТЕЛЬНОЕ УСЛОВИЕ ПОСТУПНОСТИ ПОЛУЧЕНИЯ ССЫЛКИ это выполнение условий: пользователь выполнил условия страницы invite.html +авторизован 

страница INVITE

1.пользователь придя на эту страницу получает новую или переданную с другой страницы сайта метку для отслеживания его действий 

2. на этой странице пользователь делится в одном из мессенджеров: whatsapp, telegram, instagram
ссылкой на сайт https://dikiy1111325.github.io/site/, уходя со страницы в мессенджер (в приложение или веб версию в браузере), с момента возвращения (мы это проверяем отсутствием его на сайте не менее 25 секунд с момента нажатия кнопки мессенджера и только с момента прохождения этого времени или больше, становится доступна кнопка для перехода на страницу login.html

3. нажав кнопку любого мессенджера для перехода в него и отправки сообщения "Делюсь ссылкой на бесплатный VPN" и ссылка на страницу "index.html нашего сайта по адресу https://dikiy1111325.github.io/site/, 
другими словами:
с момента того как пользователь выполнил условие (поделился ссылкой в мессенджере), пользователю становится доступна xthtp не менее 25 секунд доступна для нажатия кнопка "получить настройки для подключения VPN" после нажатия которой  пользователь преадресуется на страницу login.html


страница login.html
На этой странице происходит авторизация (если зарегестрирован - это значит присутствует в Supabase(Project ID dsvaqphuagrnkjmthtet) такого @ или № телефона или и того и другово), а также ссылкой на сброс пароля(страница password-reset.html)
и чек боксом согласия с условиями (с ссылкой для ознакомления с условиями на странице faq1_vpn_serv)
на этой странице пользователь проходит авторизацию с помощь Supabase, а также
пользователь придя получает новую или переданную с другой страницы сайта метку для отслеживания его действий
Для того чтобы реализовать нужную логику перенаправления с момента авторизации в зависимости от того, с какой страницы пришел пользователь,  нужно использовать JavaScript, чтобы запомнить, с какой страницы пользователь пришел. Для этого можно использовать localStorage или sessionStorage, так как эти хранилища позволяют сохранять данные, которые доступны между страницами.)

на страницу пользователь может попасть перейдя по ссылке со страницы индекс или из меню в хитер "УЗНАТЬ ПОДРОБНЕЕ" (ссылка называется "авторизация")    
может попасть по переадресации с момента успешной авторизации в зависимости от того по какой кнопки зашел пользователь на страницу авторизации: 





Если пользователь пришел на страницу, нажав кнопку на странице index.htlm кнопку"VPN за несколько кликов" и перешел на страницу invite.html, выпонив условия страницы может перейти, на страницу login.html нажав кнопку "продолжить",  а с момента успешной авторизации с помощью Supabase(Project ID dsvaqphuagrnkjmthtet) он должен быть перенаправлен на страницу vpn_client.html



Если пользователь выбрал нажав кнопку на странице индекс "Подключиться к личному VPN серверу"  он должен быть перенаправлен на страницу subscription vpn server.html, там он должен выбрать тариф, с момента чего, пользователь переадресовывается на страницу login.html с момента успешной регистрации(если пользователь не индифицируется как зарегистрированный) и/или регистрируется, пользователь переадресовывается на страницу оплаты pay.html


страница register.html

 на этой странице происходит авторизация и/или регистрации нового пользователя если он незарегестрирован(не зарегестрирован это значит у нас нет в Supabase такого @ или № телефона или и того и другова)
Оставляем только одну версию Supabase SDK
Используем type="module" для наших JS файлов
Подключаем только те скрипты, которые нужны для страницы входа
Убираем лишние комментарии
Соблюдаем правильный порядок загрузки (сначала основные библиотеки, потом наши скрипты)
Также обратите внимание, что:

register.js нужен только на странице регистрации
password-reset.js нужен только на странице сброса пароля
Каждая страница должна подключать только те скрипты, которые ей необходимы



Код для получения подписки после авторизации (в login.js):
javascript
Copy
Edit

Важные моменты:
Получение подписки: После успешной авторизации мы извлекаем информацию о подписке пользователя с помощью запроса:

javascript
Copy
Edit
const { data: subscriptionData, error: subscriptionError } = await supabase
    .from('subscriptions')
    .select('plan, status')
    .eq('user_id', user.id)
    .single();
Мы используем метод .eq('user_id', user.id) для фильтрации подписки по ID пользователя, а .single() — чтобы ожидать только одну запись (так как каждый пользователь может иметь только одну подписку).

Редирект в зависимости от выбранной кнопки: Перенаправление остается таким же, как в предыдущем примере, с использованием localStorage.









страница vpn_client
на эту страницу пользователь может попасть при выполнии всех условий: 1.авторизован 2.выполнил условия (поделился ссылкой) если условия не выполнены при входе на эту страницу(например по прямой ссылке) он переадресовывается на страницу invite

при выполнении условий ему доступна кнопкака  "настройки для подключения vpn" при нажатии на эту кнопку он копирует ссылку -ключ( для подключения к серверу xray) в буфер обмена и получает уведомление об успешном копировании. 

также на странице есть кнопка отправить ссылку друзьям возвращающая пользователя на страницу инвайт

также на странице есть ссылки на сторы апл и гугл и ссылка на сайт hiddify 



Если пользователь пытается попасть на защищенную страницу (vpn_client.html и/или pay.html ) посещения  страницы invite.html и последующей авторизации, его перенаправляет на страницу index.html


страница faq1_vpn_serv
содержит с условия использования сервиса текст условий: "сервис предоставляется в том виде кака есть" 

FAQ
БЕЗОПАСНОСТЬ ДАННЫХ о сервере, клиенте и протоколах 
УСТОЙЧИВОСТЬ К БЛОКИРОВКАМ о условия инвайта
ЛЕГКОЕ УПРАВЛЕНИЕ о тарифы оплата 


faq4 
что то пошло не так

contact
содержит форму где поля для заполнения и кнопка "оптравить".


 git commit -m "1203_20 сделано ниже:
 
Использование ES6 modules (type="module")
Единая точка входа для Supabase
Разделение логики по компонентам
Правильный порядок загрузки скриптов
Убраны дублирующиеся подключения
Рекомендации по безопасности:
Все API ключи и конфигурации должны быть в supabase.js
Валидация на клиенте и сервере
Защита от XSS через правильную обработку данных
Использование HTTPS для всех запросов
Следующие шаги:
Добавить обработку ошибок
Улучшить UX (загрузка, уведомления)
Добавить тесты
Оптимизировать загрузку ресурсов





РЕЗУЛЬТАТ 12.0325
СПИСОК ВСЕХ ФАЙЛОВ С ИХ НАЗНАЧЕНИЕМ

список основных файлов и их назначение:

Файлы конфигурации и инициализации:

js/config.js - Конфигурация Supabase с ключами доступа
js/init.js - Инициализация приложения
js/form-check.js - Валидация форм
Основные JavaScript файлы:

js/auth.js - Управление аутентификацией, включая:
Регистрация пользователей
Вход в систему
Управление сессиями
Защита от брутфорса
Валидация паролей
js/supabase.js - Работа с Supabase, включая:
Инициализация клиента
Управление профилями
Работа с подписками
Система рефералов
HTML страницы:

index.html - Главная страница
login.html - Страница входа
register.html - Страница регистрации
password-reset.html - Сброс пароля
invite.html - Система приглашений
vpn_client.html - Информация о VPN клиенте
subscription.html - Тарифы и подписки
pay.html - Страница оплаты
contact.html - Контактная форма
faq1_vpn_serv.html, faq2_vpn_serv.html, faq3_vpn_serv.html - FAQ страницы
404.html - Страница ошибки
Стилевые файлы:

css/bootstrap.min.css - Bootstrap стили
css/bootstrap-icons.css - Иконки Bootstrap
css/tooplate-kool-form-pack.css - Кастомные стили
Медиафайлы:

videos/video.mp4 - Фоновое видео для страниц
Внешние библиотеки:

js/jquery.min.js - jQuery
js/bootstrap.bundle.min.js - Bootstrap JS
Supabase JS SDK
Давайте проверим основной файл для регистрации:

На основе анализа репозитория, вот полный список файлов и их назначение:

Основные HTML файлы:

index.html - Главная страница сайта с презентацией VPN сервиса
login.html - Страница авторизации пользователей
register.html - Страница регистрации новых пользователей
JavaScript файлы (js/):

auth.js - Управление аутентификацией и сессиями пользователей
supabase.js - Интеграция с Supabase и основные функции работы с БД
config.js - Конфигурационные данные для подключения к Supabase
init.js - Инициализация интерфейса и обработка базовых событий
custom.js - Пользовательские функции и обработчики событий
form-check.js - Валидация форм и проверка вводимых данных
CSS файлы:

css/bootstrap.min.css - Основные стили Bootstrap
css/bootstrap-icons.css - Иконки Bootstrap
css/tooplate-kool-form-pack.css - Кастомные стили форм и интерфейса
Служебные файлы:

.git_backup/* - Резервные копии git-хуков и конфигураций
videos/video.mp4 - Фоновое видео для страниц
Дополнительные страницы:

invite.html - Страница для приглашения друзей
vpn_client.html - Инструкции по установке VPN клиента
subscription.html - Страница с тарифами
pay.html - Страница оплаты
password-reset.html - Восстановление пароля
contact.html - Форма обратной связи
faq1_vpn_serv.html - FAQ о безопасности данных
faq2_vpn_serv.html - FAQ об устойчивости к блокировкам
faq3_vpn_serv.html - FAQ об управлении
faq4_vpn_serv.html - Дополнительный FAQ
Функциональные блоки:

Аутентификация:

Регистрация новых пользователей
Авторизация существующих пользователей
Управление сессиями
Восстановление пароля
Работа с подписками:

Управление тарифами
Обработка платежей
Реферальная система
Безопасность:

Шифрование данных
Защита от брутфорса
Валидация входных данных
Интерфейс:

Адаптивный дизайн
Всплывающие уведомления
Интерактивные формы







https://xtls.github.io/ru/
